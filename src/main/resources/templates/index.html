<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" class="h-100">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zero Waste - Resell and Reduce</title>
    <link rel="shortcut icon" type="image/x-icon" th:href="@{/images/favicon.ico}" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link th:href="@{/styles/navbar.css}" rel="stylesheet"/>
    <script src="/scripts/navbar.js" defer></script>
    <link th:href="@{styles/main.css}" rel="stylesheet"/>
    <script src="https://cdn.jsdelivr.net/npm/sockjs-client/dist/sockjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/stompjs/lib/stomp.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <link th:href="@{/styles/navbar.css}" rel="stylesheet"/>
    <script src="/scripts/navbar.js" defer></script>
</head>
<body class="d-flex flex-column h-100 bg-light">

<div th:replace="~{fragments/header :: header}"></div>

<main role="main" class="flex-shrink-0">
    <div class="container">
        <div class="jumbotron text-center bg-success text-white shadow">
            <h1 class="display-4 font-weight-bold">
                <span id="rotating-words" class="animated-text">RESELL</span> with Zero Waste!
            </h1>
            <p class="lead">Reduce, Reuse, Resell! Together, let's build a sustainable future.</p>
            <a href="/products/list" class="btn btn-light btn-lg shadow-sm"><i class="bi bi-cart"></i> Visit Marketplace</a>
            <a href="/articles" class="btn btn-outline-light btn-lg shadow-sm"><i class="bi bi-book"></i> Read Articles</a>
            <a href="/forum" class="btn btn-outline-light btn-lg shadow-wm"><i class="bi bi-chat-left-text"></i> Join Forum</a>
        </div>

        <div class="swiper-container">
            <div class="swiper-wrapper">
                <div class="swiper-slide" th:each="product : ${products}" th:onclick="'location.href=\'/products/view/' + ${product.id} + '\''">
                    <div class="product">
                        <img th:src="@{${product.imageUrl}}" th:alt="${product.name}">
                        <p th:text="${product.name}"></p>
                    </div>
                </div>
            </div>
        </div>


        <div class="row text-center my-5">
            <div class="col-md-4">
                <i class="bi bi-recycle display-3 text-success"></i>
                <h3 class="mt-3">Resell Used Goods</h3>
                <p class="text-muted">Turn your unused items into opportunities. Help reduce waste by finding a new home
                    for pre-loved goods.</p>
            </div>
            <div class="col-md-4">
                <i class="bi bi-tree display-3 text-success"></i>
                <h3 class="mt-3">Eco-Friendly Advice</h3>
                <p class="text-muted">Learn practical tips to reduce your carbon footprint and live a more sustainable
                    life.</p>
            </div>
            <div class="col-md-4">
                <i class="bi bi-newspaper display-3 text-success"></i>
                <h3 class="mt-3">Inspiring Articles</h3>
                <p class="text-muted">Explore stories and insights about environmental care and the power of community
                    action.</p>
            </div>
        </div>
    </div>
</main>

<div th:replace="~{fragments/footer :: footer}"></div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs="
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
<script src="/scripts/chat-notification.js"></script>
<script>
    var swiper = new Swiper('.swiper-container', {
        slidesPerView: 3,
        centeredSlides: true,
        spaceBetween: 50,
        loop: true,
        initialSlide: 8,
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },
        autoplay: {
            delay: 2000,
        }
    });
</script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const words = ["RESELL", "REDUCE", "REUSE"];
        let currentIndex = 0;

        const rotatingWordsElement = document.getElementById("rotating-words");

        setInterval(() => {
            currentIndex = (currentIndex + 1) % words.length;

            rotatingWordsElement.classList.remove("fade-in");
            rotatingWordsElement.classList.add("fade-out");

            setTimeout(() => {
                rotatingWordsElement.textContent = words[currentIndex];
                rotatingWordsElement.classList.remove("fade-out");
                rotatingWordsElement.classList.add("fade-in");
            }, 500);
        }, 2000);
    });
</script>
<script>
    function toggleMenu() {
        const menuIcon = document.querySelector('.menu-icon');
        const navMenu = document.querySelector('.nav-menu');
        const navMenuRight = document.querySelector('.nav-menu-right');

        menuIcon.classList.toggle('toggle');
        navMenu.classList.toggle('active');
        navMenuRight.classList.toggle('active');
    }

    // Dropdown functionality
    document.addEventListener('DOMContentLoaded', function() {
        const dropdownToggle = document.querySelector('.dropdown-toggle');
        const dropdownMenu = document.querySelector('.dropdown-menu');

        if (dropdownToggle) {
            dropdownToggle.addEventListener('click', function(e) {
                e.preventDefault();
                dropdownMenu.classList.toggle('show');
            });

            // Close dropdown when clicking outside
            document.addEventListener('click', function(e) {
                if (!dropdownToggle.contains(e.target) && !dropdownMenu.contains(e.target)) {
                    dropdownMenu.classList.remove('show');
                }
            });
        }
    });
</script>
</body>
</html>
